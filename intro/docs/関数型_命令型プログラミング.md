# 関数型プログラミングと命令型プログラミング

- https://docs.microsoft.com/ja-jp/dotnet/csharp/programming-guide/concepts/linq/functional-programming-vs-imperative-programming

関数型プログラミングと従来の命令型（手続き型）プログラミングの比較を行う．

## 関数型プログラミングと命令型プログラミング

"関数型プログラミング"のパラダイムは，問題解決に適用する純粋関数型の方法をサポートするためにわかりやすく作成されている．関数型プログラミングは，"宣言型プログラミング" の一種である．一方，C#，Visual Basic，C++，Java などのオブジェクト指向プログラミング (OOP) 言語を含むほとんどの主流言語は，主に "命令型" (手続き型) プログラミングをサポートするために作成されている．

- 命令型の方法では，開発者はコードを記述して，**目的を達成するためにコンピューターが実行するステップを詳細に示す**．これを "アルゴリズム" プログラミングと呼ぶこともある．
- 一方，関数型の方法では，実行される一連の関数として問題が組み立てられ，それぞれの関数に何が入力され，何が返されるのかが，慎重に定義される．この 2 つの方法の一般的な違いを次の表に示す．

| 特徴                 | 命令型の方法                                           | 関数型の方法                                                  |
| -------------------- | ------------------------------------------------------ | ------------------------------------------------------------- |
| プログラミングの焦点 | タスク (アルゴリズム) の実行方法と状態の変化の追跡方法 | 目的となる情報と必要な変換                                    |
| 状態の変化           | 重要                                                   | 存在しない                                                    |
| 実行の順序           | 重要                                                   | あまり重要ではない                                            |
| 主要なフロー制御     | ループ，条件，および関数 (メソッド) 呼び出し           | 関数呼び出し (再帰を含む)                                     |
| 主要な操作単位       | 構造体またはクラスのインスタンス                       | ファーストクラス オブジェクトとしての関数とデータコレクション |

ほとんどの言語は特定のプログラミングパラダイムをサポートするために作成されているが，汎用言語の多くは複数のパラダイムをサポートできる柔軟性を備えている．たとえば，関数ポインターを含むほとんどの言語で関数型プログラミングがサポートされる．さらに，C# には，ラムダ式や型推論など，関数型プログラミングをサポートするための明確な言語拡張が含まれる．（LINQ テクノロジは，宣言型 (関数型) プログラミングの一種である．）

## 純粋関数の利点

関数型変換を純粋関数として実装する最大の理由は，純粋関数が構成可能であること (**自己完結していて，ステートレスなこと**) である．これらの特性は，以下に示すようなさまざまな利点をもたらす．

- 読みやすさが向上し，保守が容易になる．
  これは，それぞれの関数が，引数を渡されると特定のタスクを実行するように作られていて，外部の状態に依存しないためである．

- 反復開発が容易になる．
  コードのリファクタリングが容易になるため，多くの場合，設計変更を実装しやすくなる．たとえば，複雑な変換を記述していて，何度も繰り返されているコードがあることに気付いた場合，純粋メソッドによるリファクタリングでは，副作用を考慮せずにその純粋メソッドを自由に呼び出すことができる．

- テストやデバッグが容易になる．
  純粋関数は単独でのテストが容易なため，典型的な値，有効なエッジケース，および無効なエッジケースを使用して純粋関数を呼び出すテストコードを作成できる．
